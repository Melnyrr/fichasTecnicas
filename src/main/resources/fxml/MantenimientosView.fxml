<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.VBox?>

<?import javafx.scene.layout.HBox?>

<?import javafx.scene.layout.Priority?>

<?import javafx.scene.control.Label?>

<?import javafx.scene.control.Button?>

<?import javafx.scene.control.TableView?>

<?import javafx.scene.control.TableColumn?>

<?import javafx.geometry.Insets?>

<?import javafx.scene.control.ScrollPane?>

<VBox xmlns="http://javafx.com/javafx/22" xmlns:fx="http://javafx.com/fxml/1" fx:controller="starter.ui.MantenimientosController" spacing="15" styleClass="view-container">
<padding>
<Insets top="25" right="25" bottom="20" left="25"/>
</padding>

<!-- Header Section -->
<VBox spacing="8" styleClass="header-section">
    <Label text="Gestión de Mantenimientos" styleClass="view-title"/>
    <Label text="Programa y registra mantenimientos preventivos y correctivos" styleClass="view-subtitle"/>
</VBox>

<!-- Action Buttons -->
<HBox spacing="12" styleClass="action-buttons">
    <Button fx:id="nuevoBtn" text="Nuevo Mantenimiento" styleClass="accent" minWidth="150"/>
    <Button fx:id="programarBtn" text="Programar Mantenimiento" styleClass="success" minWidth="170"/>
    <Button fx:id="historialBtn" text="Ver Historial" styleClass="secondary" minWidth="120"/>
</HBox>

<!-- Maintenance Table Container -->
<VBox VBox.vgrow="ALWAYS" spacing="0" styleClass="table-container">
    <!-- ScrollPane que contiene la tabla, crece para llenar el espacio -->
    <ScrollPane VBox.vgrow="ALWAYS" fitToHeight="true" hbarPolicy="AS_NEEDED" vbarPolicy="AS_NEEDED" styleClass="table-scrollpane">
        <content>
            <TableView fx:id="mantenimientosTable" styleClass="data-table">
                <columns>
                    <TableColumn fx:id="idMantColumn" text="ID" prefWidth="60" minWidth="50" maxWidth="80" resizable="false"/>
                    <TableColumn fx:id="equipoMantColumn" text="Equipo" prefWidth="170" minWidth="120"/>
                    <TableColumn fx:id="tipoMantColumn" text="Tipo" prefWidth="130" minWidth="100"/>
                    <TableColumn fx:id="fechaProgramadaColumn" text="Fecha Programada" prefWidth="140" minWidth="120"/>
                    <TableColumn fx:id="fechaRealizadaColumn" text="Fecha Realizada" prefWidth="140" minWidth="120"/>
                    <TableColumn fx:id="estadoMantColumn" text="Estado" prefWidth="110" minWidth="90"/>
                    <TableColumn fx:id="tecnicoColumn" text="Técnico" prefWidth="140" minWidth="110"/>
                </columns>
                <!-- CAMBIAR LA POLÍTICA DE REDIMENSIONAMIENTO -->
                <columnResizePolicy>
                    <TableView fx:constant="UNCONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>
            </TableView>
        </content>
    </ScrollPane>

    <!-- Status Bar -->
    <HBox alignment="CENTER_LEFT" spacing="15" styleClass="status-bar">
        <Label fx:id="mantenimientosPendientesLabel" text="Pendientes: 0" styleClass="status-text-warning"/>
        <Label fx:id="mantenimientosCompletadosLabel" text="Completados este mes: 0" styleClass="status-text"/>
        <Label fx:id="proximosMantenimientosLabel" text="Próximos 7 días: 0" styleClass="status-text-secondary"/>
    </HBox>
</VBox>

</VBox>